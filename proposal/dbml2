// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table mbids {
  mbid CHAR(36) [pk, not null]
  name VARRCHAR(36) [not null]
  frecency INT [not null]
}

Table genres {
  mbid CHAR(36) [pk, not null]
  genre_name VARRCHAR(36) [pk, not null]
}

Ref: genres.mbid - mbids.mbid

Table artists {
  artist_mbid CHAR(36) [pk, not null]
}

Ref: artists.artist_mbid - mbids.mbid

Table albums {
  album_mbid CHAR(36) [pk, not null]
  artist_mbid CHAR(36) [pk, not null]
}

Ref: albums.album_mbid - mbids.mbid
Ref: albums.artist_mbid - artists.artist_mbid

Table tracks {
  track_mbid CHAR(36) [pk, not null]
  album_mbid CHAR(36)
  artist_mbid CHAR(36) [pk, not null]
  track_length TIME [not null]
}

Ref: tracks.track_mbid - mbids.mbid
Ref: tracks.album_mbid - albums.album_mbid
Ref: tracks.artist_mbid - artists.artist_mbid

Table users {
  user_id int [pk, not null, increment]
  user_name VARCHAR(16)
}

Table scrobbles {
  scrobble_id int [pk, not null, increment]
  scrobble_time TIME [not null]
  track_mbid CHAR(36) [not null]
  user_id int [not null]
}

Ref: scrobbles.track_mbid - tracks.track_mbid
Ref: scrobbles.user_id - users.user_id

